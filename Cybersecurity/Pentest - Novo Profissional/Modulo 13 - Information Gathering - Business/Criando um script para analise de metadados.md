
---
``lynx`` é um navegador web baseado em terminal, utilizado para acessar paginas da web em modo texto. Ele é especialmente útil em ambientes sem interface gráfica ou para usuários que preferem a navegação por texto.

#### Características do `lynx`:

- Exibe apenas texto, ignorando imagens, vídeos e outros elementos gráficos.
- Suporta links, formulários e autenticação básica.
- Pode ser usado para acessar sites via HTTP, HTTPS, FTP e outros protocolos.
- Ideal para conexões de internet lentas ou sistemas com poucos recursos.

Uso básico: 
- Para abrir um site:
```bash
lynx https://google.com
```
- Para sair: Pressione `q` e confirme com `y`.
- Para navegar: Use as setas do teclado (`↑` e `↓` para subir/descer, `→` para seguir links, `←` para voltar).

#### Exemplo de script automatizado.

**O que o script faz?**
Ele usa **Google Dorks** para encontrar arquivos em um site específico, baixa esses arquivos, extrai seus metadados com **ExifTool** e depois apaga tudo para não deixar rastros.

Isso é útil para um **pentest** porque arquivos públicos podem conter informações sensíveis, como usuários, emails ou versões de software vulneráveis.

```python
import subprocess
import os

# Função para buscar arquivos, baixar e extrair metadados
def googleDork(): 
    site = input("Digite o site (ex: exemplo.com.br): ").strip()
    ext = input("Digite a extensão do arquivo (ex: doc, pdf, xlx): ").strip()
    arquivoSaida = "links"
    arquivosBaixados = []

    dork = f"site:{site} ext:{ext}"
    url = f"https://google.com/search?q={dork}"

    # Busca os links com a extensão desejada
    buscandoArquivos = f'lynx --dump "{url}" | grep ".{ext}" | cut -d "=" -f 2 | egrep -v "site|google" | sed \'s/...$//\' > {arquivoSaida}'
    subprocess.run(buscandoArquivos, shell=True, text=True)
    
    # Verificar se encontrou links
    if not os.path.isfile(arquivoSaida) or os.stat(arquivoSaida).st_size == 0:
        print("Nenhum link encontrado. Verifique sua dork ou tente outro site/extensão.")
        return
    
    # Ler os links e baixar os arquivos
    with open(arquivoSaida, "r") as file:
        links = file.readlines()
        
    if not links:
        print("Nenhum link válido encontrado.")
        return
    
    for link in links:
        link = link.strip()
        if link:
            print(f"Baixando: {link}")
            arquivo_baixado = link.split("/")[-1].split("?")[0]
            subprocess.run(f'wget -q "{link}"', shell=True)
            arquivosBaixados.append(arquivo_baixado)
            
            # Exibir metadados na tela
            print(f"\nMetadados do arquivo: {link.split('/')[-1].split("?")[0]}")
            subprocess.run(f'exiftool "{link.split("/")[-1].split("?")[0]}"', shell=True)
    
    # Excluir os arquivos baixados e o arquivo de links
    for arquivo in arquivosBaixados:
        if os.path.isfile(arquivo):
            os.remove(arquivo)
            print(f"\nArquivo baixado {arquivo} excluído.")

    os.remove(arquivoSaida)
    print(f"\nArquivo {arquivoSaida} excluído para a próxima pesquisa.")
    
    print("Processo concluído!")

# Executar a função 
googleDork()
```

OBS: 
- **`subprocess.run()`**  
	Essa função executa o comando passado como argumento e espera ele terminar antes de continuar o restante do código.

- **`shell=True`:**  
	Faz o Python rodar o comando dentro de um **shell do sistema (bash, sh, etc.)**. Isso é útil para comandos complexos, mas pode ser perigoso se você estiver lidando com entradas não verificadas, porque pode abrir brechas para **Injeção de Comandos**.

- **`text=True`:**  
	Isso faz com que a saída do comando seja tratada como **texto (string)**, ao invés de bytes. Assim, fica mais fácil manipular o resultado no Python.

- **`os.path.isfile(arquivoSaida)`** → Verifica se o arquivo que armazena os links foi criado.

- **`os.stat(arquivoSaida).st_size == 0`** → Verifica se o arquivo está vazio.

- **`not`** → Se o arquivo **não existir ou estiver vazio**, ele imprime a mensagem de erro e encerra a função.

- **`with`** → É uma forma segura de abrir arquivos. Ele garante que o arquivo será **fechado automaticamente** quando você terminar de usá-lo, mesmo se ocorrer algum erro.

- **`open()`** → Abre o arquivo.
	- **`arquivoSaida`** → Nome do arquivo que contém os links (nesse caso, o resultado da busca com a dork).
    - **`"r"`** → Modo de leitura (**read**).

- **`as file`** → Cria a variável **`file`** para manipular o arquivo.

- **`file.readlines()`** → Lê **todas as linhas do arquivo** e as retorna como uma lista de strings. Cada elemento da lista é uma linha do arquivo.