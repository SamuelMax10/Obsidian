
---
### Como funciona a coleta via certificados digitais

#### 1. Quando um domínio usa HTTPS...

Ele precisa de um **certificado digital**, emitido por uma autoridade certificadora (CA), como Let's Encrypt, DigiCert, etc. Esse certificado contém:

- Nome comum (CN) – normalmente o domínio principal

- Subject Alternative Names (SANs) – lista de domínios e **subdomínios** cobertos pelo certificado

- Data de emissão e validade

- Nome da organização (às vezes)

- Informações de quem emitiu o certificado

####  2. Certificados públicos

A maioria dos certificados é **pública** e pode ser consultada porque:

- São registrados em **CT Logs (Certificate Transparency Logs)** — bancos públicos onde toda emissão de certificado é registrada, por segurança.

- Esses logs são acessíveis via serviços como:

    - [**crt.sh**](https://crt.sh)
    
    - **Google Transparency Report**
    
    - **Censys**
    
    - [**Shodan**](https://www.shodan.io)
    
    - [**SecurityTrails**](https://securitytrails.com)
    

####  3. O que dá pra descobrir?

- **Subdomínios**: se o certificado cobre `login.empresa.com`, `mail.empresa.com`, etc.

- **Domínios relacionados**: empresas que registram certificados para múltiplos domínios.

- **Infra compartilhada**: se diferentes domínios estão no mesmo certificado → possível infraestrutura comum.

- **Histórico**: certificados antigos revelam subdomínios que já foram usados, mesmo que hoje estejam fora do ar.