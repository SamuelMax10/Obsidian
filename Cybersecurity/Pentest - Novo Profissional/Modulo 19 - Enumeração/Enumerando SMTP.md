
---

O **SMTP** (Simple Mail Transfer Protocol) é o protocolo padrão da internet para o envio de e-mails entre servidores e clientes . 

Os pontos principais sobre o seu funcionamento:

- **Função Principal:** Ele atua como um "carteiro digital". Quando você clica em enviar, o SMTP transporta a mensagem do seu dispositivo para o servidor de e-mail e, de lá, para o servidor do destinatário.

- **Envio vs. Recebimento:** O SMTP é usado apenas para **enviar** mensagens. Para **receber** ou acessar e-mails que já chegaram ao servidor, utilizam-se outros protocolos, como o **IMAP** ou o **POP3**.

- Portas Comuns:

    - **587:** A porta recomendada atualmente para submissão de e-mails com criptografia (TLS) .

    - **465:** Utilizada para SMTP sobre SSL (SMTPS).

    - **25:** Porta padrão para comunicação entre servidores, mas frequentemente bloqueada por provedores residenciais para evitar spam.


## Comandos Essenciais 

- **HELO / EHLO:** Inicia a sessão. O `HELO` é a saudação básica, enquanto o `EHLO` (Extended HELO) inicia uma sessão SMTP estendida, permitindo recursos adicionais como autenticação e anexos maiores.

- **MAIL FROM:** Indica o endereço de e-mail do remetente (quem está enviando).

- **RCPT TO:** Especifica o destinatário da mensagem. Pode ser repetido para múltiplos destinatários.

- **DATA:** Solicita permissão para iniciar a transferência do conteúdo do e-mail (corpo da mensagem e anexos). O término dos dados é sinalizado por um ponto sozinho em uma linha (`.`).

- **QUIT:** Encerra a conexão com o servidor de forma correta. 

## Comandos de Controle e Segurança

- **AUTH:** Utilizado para autenticar o usuário (geralmente exigindo login e senha) antes de permitir o envio.

- **STARTTLS:** Comando que inicia a criptografia da conexão (transforma uma conexão insegura em segura via SSL/TLS).

- **RSET (Reset):** Aborta a transação de e-mail atual e limpa todos os dados armazenados até o momento, mantendo a conexão aberta.

- **NOOP (No Operation):** Apenas verifica se o servidor ainda está respondendo, sem executar nenhuma ação. 

## Comandos de Diagnóstico e Informação

- **VRFY (Verify):** Solicita ao servidor que verifique se um endereço de e-mail ou nome de usuário específico existe localmente.

- **EXPN (Expand):** Similar ao VRFY, mas solicita a confirmação de uma lista de discussão (mailing list) e retorna seus membros.

- **HELP:** Solicita informações de ajuda sobre os comandos suportados pelo servidor.